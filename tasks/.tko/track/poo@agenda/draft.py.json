{
    "patches": [
        {
            "label": "2025-12-01_08-23-45",
            "content": "@@ -1,2818 +0,0 @@\n-class Fone:%0A    def __init__(self, id: str, number: str):%0A        self.__id = id%0A        self.__number = number%0A%0A    def getId(self) -%3E str:%0A        return self.__id%0A    %0A    def getNumber(self) -%3E str:%0A        return self.__number%0A%0A    @staticmethod%0A    def isValid(number: str)-%3E bool:%0A        valid_char = %220123456789().%22%0A        for char in number:%0A            if char not in valid_char:%0A                return False%0A        return True%0A        %0A    def __str__(self):%0A        return f%22%7Bself.__id%7D:%7Bself.__number%7D%22%0A    %0Aclass Contact:%0A    def __init__(self, name: str):%0A        self.__name = name%0A        self.__fones = %5B%5D%0A        self.__favorited = False%0A%0A    def getName(self) -%3E str:%0A        return self.__name%0A    %0A    def setName(self, name: str):%0A        self.__name = name%0A%0A    def getFones(self) -%3E list:%0A        return self.__fones%0A    %0A    def isFavorited(self) -%3E bool:%0A        return self.__favorited%0A%0A    def addFone(self, id: str, number: str):%0A        if Fone.isValid(number):%0A            self.__fones.append(Fone(id, number))%0A        else:%0A            print(%22fail: invalid number%22)%0A%0A    def rmFone(self, index: int):%0A        if 0 %3C= index %3C len(self.__fones):%0A            del self.__fones%5Bindex%5D%0A        else:%0A            print(f%22fail: indice %7Bindex%7D nao existe%22)%0A%0A    def toogleFavorited(self):%0A        self.__favorited = not self.__favorited%0A%0A    def __str__(self):%0A        prefix = %22@%22 if self.__favorited else %22-%22%0A%0A        fones_str = %5B%5D%0A        for fone in self.__fones:%0A            fones_str.append(str(fone))%0A        %0A        joined_fones = %22, %22.join(fones_str)%0A%0A        return f%22%7Bprefix%7D %7Bself.__name%7D %5B%7Bjoined_fones%7D%5D%22%0A    %0Aclass Agenda:%0A    def __init__(self):%0A        self.__contacts = %5B%5D%0A%0A    def __findPosByName(self, name: str) -%3E int:%0A        for i, contact in enumerate(self.__contacts):%0A            if contact.getName() == name:%0A                return i%0A        return -1%0A    %0A    def addContact(self, name: str, fones: list):%0A        pos = self.__findPosByName(name)%0A%0A        %0A        %0A%0Adef main():%0A    contact = Contact(%22%22)%0A        %0A    while True:%0A        try:%0A            line = input()%0A        except EOFError:%0A            break%0A%0A        print(f%22$%7Bline%7D%22)%0A        args = line.split()%0A%0A        if len(args) == 0:%0A            continue%0A%0A        cmd = args%5B0%5D%0A%0A        if cmd == %22end%22:%0A            break%0A%0A        elif cmd == %22init%22:%0A            name = args%5B1%5D%0A            contact = Contact(name)%0A%0A        elif cmd == %22show%22:%0A            print(contact)%0A%0A        elif cmd == %22add%22:%0A            label = args%5B1%5D%0A            number = args%5B2%5D%0A            contact.addFone(label, number)%0A%0A        elif cmd == %22rm%22:%0A            index = int(args%5B1%5D)%0A            contact.rmFone(index)%0A%0A        elif cmd == %22tfav%22:%0A            contact.toogleFavorited()%0A%0A%0Aif __name__ == %22__main__%22:%0A    main()\n",
            "lines": "0"
        },
        {
            "label": "2025-12-01_08-24-01",
            "content": "@@ -2003,228 +2003,8 @@\n e)%0A%0A\n-        if pos != -1:%0A            contact = self.__contacts%5Bpos%5D%0A%0A    def __str__(self):%0A        lines = %5B%5D%0A        for contact in self.__contacts:%0A            lines.append(str(contact))%0A        return %22%5Cn%22.join(lines)%0A%0A\n     \n",
            "lines": "124"
        },
        {
            "label": "2025-12-01_08-28-35",
            "content": "@@ -2067,258 +2067,8 @@\n pos%5D\n-%0A        else:%0A            contact = Contact(name)%0A            self.__contacts.append(contact)%0A            self.__contacts.sort(key=lambda c: c.getNumber())%0A%0A        for fone in fones:%0A            contact.addFone(fone.getId(), fone.getNumber())%0A%0A    \n %0A%0A  \n@@ -2258,24 +2258,28 @@\n     \n-agenda = Agenda(\n+contact = Contact(%22%22\n )%0A  \n@@ -2735,36 +2735,37 @@\n d%22:%0A            \n-name\n+label\n  = args%5B1%5D%0A     \n@@ -2775,206 +2775,66 @@\n     \n-fones_temp = %5B%5D%0A            for token in args%5B2:%5D:%0A                parts = token.split(%22:%22)%0A                fones_temp.append(Fone(parts%5B0%5D, parts%5B1%5D))%0A            agenda.addContact(name, fones_temp\n+number = args%5B2%5D%0A            contact.addFone(label, number\n )%0A%0A \n",
            "lines": "133"
        },
        {
            "label": "2025-12-01_09-11-05",
            "content": "@@ -2801,16 +2801,109 @@\n   break%0A\n+%0A        elif cmd == %22init%22:%0A            name = args%5B1%5D%0A            contact = Contact(name)%0A%0A\n         \n@@ -2940,22 +2940,23 @@\n   print(\n-agenda\n+contact\n )%0A%0A     \n@@ -3168,16 +3168,16 @@\n ts%5B1%5D))%0A\n-\n         \n@@ -3217,16 +3217,177 @@\n _temp)%0A%0A\n+        elif cmd == %22rm%22:%0A            index = int(args%5B1%5D)%0A            contact.rmFone(index)%0A%0A        elif cmd == %22tfav%22:%0A            contact.toogleFavorited()%0A%0A\n %0Aif __na\n",
            "lines": "145"
        },
        {
            "label": "2025-12-01_09-16-28",
            "content": "@@ -2207,27 +2207,29 @@\n da c: c.getN\n-ame\n+umber\n ())%0A%0A       \n@@ -2299,19 +2299,21 @@\n one.getN\n-ame\n+umber\n ())%0A%0A   \n",
            "lines": "133"
        },
        {
            "label": "2025-12-01_09-23-52",
            "content": "@@ -2297,21 +2297,19 @@\n one.getN\n-umber\n+ame\n ())%0A%0A   \n",
            "lines": "133"
        },
        {
            "label": "2025-12-01_09-25-36",
            "content": "@@ -2315,198 +2315,8 @@\n     \n-def rmContact(self, name: str):%0A        pos = self.__findPosByName(name)%0A        if pos != -1:%0A            del self.__contacts%5Bpos%5D%0A        else:%0A            print(%22fail: contact not found%22)\n %0A%0A  \n@@ -3124,104 +3124,8 @@\n mp)%0A\n-        %0A        elif cmd == %22rm%22:%0A            name = args%5B1%5D%0A            agenda.rmContact(name)\n %0A%0Aif\n",
            "lines": "133"
        },
        {
            "label": "2025-12-02_18-36-37",
            "content": "@@ -2507,170 +2507,8 @@\n %22)%0A%0A\n-    def getContact(self, name: str):%0A        pos = self.__findPosByName(name)%0A        if pos != -1:%0A            return self.__contacts%5Bpos%5D%0A        return None%0A%0A%0A\n     \n",
            "lines": "141"
        },
        {
            "label": "2025-12-02_18-39-18",
            "content": "@@ -2667,411 +2667,8 @@\n one%0A\n-    %0A    def search(self, pattern: str) -%3E list:%0A        results = %5B%5D%0A        for contact in self.__contacts:%0A            if pattern in contact.getName():%0A                results.append(contact)%0A                continue%0A%0A            for fone in contact.getFones():%0A                if pattern in str(fone):%0A                    results.append(contact)%0A                    break%0A        return results    %0A\n %0A%0A  \n@@ -3574,169 +3574,8 @@\n e)%0A%0A\n-        elif cmd == %22search%22:%0A            pattern = args%5B1%5D%0A            results = agenda.search(pattern)%0A            for c in results:%0A                print(c)%0A%0A\n if _\n",
            "lines": "148"
        },
        {
            "label": "2025-12-02_18-42-43",
            "content": "@@ -3066,288 +3066,12 @@\n lts \n-%0A    %0A    def getFavorited(self) -%3E list:%0A        favorited = %5B%5D%0A        for contact in self.__contacts:%0A            if contact.isFavorited():%0A                favorited.append(contact)%0A        return favorited%0A%0A    def getContacts(self) -%3E list:%0A        return self.__contacts\n    %0A\n+\n %0A%0A  \n@@ -3545,32 +3545,86 @@\n            break\n+%0A        elif cmd == %22show%22:%0A            print(agenda)\n %0A%0A        elif c\n@@ -3929,32 +3929,32 @@\n  name = args%5B1%5D%0A\n+\n             agen\n@@ -3977,710 +3977,8 @@\n e)%0A%0A\n-        elif cmd == %22rmFone%22:%0A            name = args%5B1%5D%0A            index = int(args%5B2%5D)%0A            contact = agenda.getContact(name)%0A            if contact is not None:%0A                contact.rmFone(index)%0A            else:%0A                print(%22fail: contact not found%22)%0A%0A        elif cmd == %22show%22:%0A            print(agenda)%0A%0A        elif cmd == %22tfav%22:%0A            name = args%5B1%5D%0A            contact = agenda.getContact(name)%0A            if contact is not None:%0A                contact.toogleFavorited()%0A            else:%0A                print(%22fail: contact not found%22)%0A%0A        elif cmd == %22favs%22:%0A            favs = agenda.getFavorited()%0A            for c in favs:%0A                print(c)%0A%0A\n     \n",
            "lines": "167"
        },
        {
            "label": "2025-12-02_19-12-52",
            "content": "class Fone:\n    def __init__(self, id: str, number: str):\n        self.__id = id\n        self.__number = number\n\n    def getId(self) -> str:\n        return self.__id\n    \n    def getNumber(self) -> str:\n        return self.__number\n\n    @staticmethod\n    def isValid(number: str)-> bool:\n        valid_char = \"0123456789().\"\n        for char in number:\n            if char not in valid_char:\n                return False\n        return True\n        \n    def __str__(self):\n        return f\"{self.__id}:{self.__number}\"\n    \nclass Contact:\n    def __init__(self, name: str):\n        self.__name = name\n        self.__fones = []\n        self.__favorited = False\n\n    def getName(self) -> str:\n        return self.__name\n    \n    def setName(self, name: str):\n        self.__name = name\n\n    def getFones(self) -> list:\n        return self.__fones\n    \n    def isFavorited(self) -> bool:\n        return self.__favorited\n\n    def addFone(self, id: str, number: str):\n        if Fone.isValid(number):\n            self.__fones.append(Fone(id, number))\n        else:\n            print(\"fail: invalid number\")\n\n    def rmFone(self, index: int):\n        if 0 <= index < len(self.__fones):\n            del self.__fones[index]\n        else:\n            print(f\"fail: indice {index} nao existe\")\n\n    def toogleFavorited(self):\n        self.__favorited = not self.__favorited\n\n    def __str__(self):\n        prefix = \"@\" if self.__favorited else \"-\"\n\n        fones_str = []\n        for fone in self.__fones:\n            fones_str.append(str(fone))\n        \n        joined_fones = \", \".join(fones_str)\n\n        return f\"{prefix} {self.__name} [{joined_fones}]\"\n    \nclass Agenda:\n    def __init__(self):\n        self.__contacts = []\n\n    def __findPosByName(self, name: str) -> int:\n        for i, contact in enumerate(self.__contacts):\n            if contact.getName() == name:\n                return i\n        return -1\n    \n    def addContact(self, name: str, fones: list):\n        pos = self.__findPosByName(name)\n\n        if pos != -1:\n            contact = self.__contacts[pos]\n        else:\n            contact = Contact(name)\n            self.__contacts.append(contact)\n            self.__contacts.sort(key=lambda c: c.getName())\n\n        for fone in fones:\n            contact.addFone(fone.getId(), fone.getNumber())\n\n    def rmContact(self, name: str):\n        pos = self.__findPosByName(name)\n        if pos != -1:\n            del self.__contacts[pos]\n        else:\n            print(\"fail: contact not found\")\n\n    def getContact(self, name: str):\n        pos = self.__findPosByName(name)\n        if pos != -1:\n            return self.__contacts[pos]\n        return None\n    \n    def search(self, pattern: str) -> list:\n        results = []\n        for contact in self.__contacts:\n            if pattern in contact.getName():\n                results.append(contact)\n                continue\n\n            for fone in contact.getFones():\n                if pattern in str(fone):\n                    results.append(contact)\n                    break\n        return results \n    \n    def getFavorited(self) -> list:\n        favorited = []\n        for contact in self.__contacts:\n            if contact.isFavorited():\n                favorited.append(contact)\n        return favorited\n\n    def getContacts(self) -> list:\n        return self.__contacts   \n\n\n    def __str__(self):\n        lines = []\n        for contact in self.__contacts:\n            lines.append(str(contact))\n        return \"\\n\".join(lines)\n\n        \n        \n\ndef main():\n    agenda = Agenda()\n        \n    while True:\n        try:\n            line = input()\n        except EOFError:\n            break\n\n        print(f\"${line}\")\n        args = line.split()\n\n        if len(args) == 0:\n            continue\n\n        cmd = args[0]\n\n        if cmd == \"end\":\n            break\n\n        elif cmd == \"add\":\n            name = args[1]\n            fones_temp = []\n            for token in args[2:]:\n                parts = token.split(\":\")\n                fones_temp.append(Fone(parts[0], parts[1]))\n            agenda.addContact(name, fones_temp)\n        \n        elif cmd == \"rm\":\n            name = args[1]\n            agenda.rmContact(name)\n\n        elif cmd == \"rmFone\":\n            name = args[1]\n            index = int(args[2])\n            contact = agenda.getContact(name)\n            if contact is not None:\n                contact.rmFone(index)\n            else:\n                print(\"fail: contact not found\")\n\n        elif cmd == \"show\":\n            print(agenda)\n\n        elif cmd == \"tfav\":\n            name = args[1]\n            contact = agenda.getContact(name)\n            if contact is not None:\n                contact.toogleFavorited()\n            else:\n                print(\"fail: contact not found\")\n\n        elif cmd == \"favs\":\n            favs = agenda.getFavorited()\n            for c in favs:\n                print(c)\n\n        elif cmd == \"search\":\n            pattern = args[1]\n            results = agenda.search(pattern)\n            for c in results:\n                print(c)\n\nif __name__ == \"__main__\":\n    main()",
            "lines": "200"
        }
    ]
}